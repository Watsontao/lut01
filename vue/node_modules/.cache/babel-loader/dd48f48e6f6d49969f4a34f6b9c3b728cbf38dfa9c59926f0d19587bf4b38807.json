{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'GreenhouseList',\n  data() {\n    return {\n      greenhouses: [],\n      showDetail: false\n    };\n  },\n  created() {\n    this.loadGreenhouses();\n  },\n  methods: {\n    /* 拉取列表 */\n    loadGreenhouses() {\n      this.$request.get('/api/greenhouse/getAll').then(res => {\n        this.greenhouses = res.data || [];\n      });\n    },\n    /* 简略 / 详细视图切换 */\n    toggleView() {\n      this.showDetail = !this.showDetail;\n    },\n    /* 查看详情（跳详情页） */\n    viewDetail(row) {\n      this.$router.push({\n        name: 'GreenhouseDetail',\n        query: {\n          id: row.greenhouseId\n        }\n      });\n    },\n    /* 新增（不传 id） */\n    handleAdd() {\n      this.$router.push({\n        name: 'GreenhouseForm'\n      });\n    },\n    /* **编辑**（带 id 跳表单页） */\n    handleEdit(row) {\n      this.$router.push({\n        name: 'GreenhouseForm',\n        query: {\n          id: row.greenhouseId\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","greenhouses","showDetail","created","loadGreenhouses","methods","$request","get","then","res","toggleView","viewDetail","row","$router","push","query","id","greenhouseId","handleAdd","handleEdit"],"sources":["src/views/manager/GreenhouseList.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- 工具栏 -->\n    <div class=\"toolbar\">\n      <el-button type=\"primary\" plain @click=\"toggleView\">\n        {{ showDetail ? '简略信息' : '详细信息' }}\n      </el-button>\n      <el-button type=\"primary\" @click=\"handleAdd\">新增大棚</el-button>\n    </div>\n\n    <!-- 表格 -->\n    <el-table :data=\"greenhouses\" stripe style=\"width: 100%\">\n      <!-- ↓↓↓ 字段列 ↓↓↓ -->\n      <el-table-column v-if=\"showDetail\" prop=\"greenhouseId\" label=\"ID\" width=\"60\"/>\n      <el-table-column prop=\"greenhouseName\"      label=\"名称\"/>\n      <el-table-column v-if=\"showDetail\" prop=\"greenhouseLocation\" label=\"位置\"/>\n      <el-table-column prop=\"greenhouseType\"      label=\"类型\"/>\n      <el-table-column prop=\"area\"                label=\"面积\"/>\n      <el-table-column prop=\"status\"              label=\"状态\"/>\n      <el-table-column v-if=\"showDetail\" prop=\"description\"       label=\"描述\"/>\n      <el-table-column prop=\"plants\"              label=\"作物\"/>\n      <el-table-column prop=\"videoUrl\"            label=\"监控链接\"/>\n      <el-table-column prop=\"supervisor\"          label=\"负责人\"/>\n      <el-table-column v-if=\"showDetail\" prop=\"cropMaturity\"     label=\"成熟期\"/>\n      <el-table-column v-if=\"showDetail\" prop=\"expectedHarvest\"  label=\"预计采收\"/>\n      <el-table-column v-if=\"showDetail\" prop=\"growDays\"         label=\"生长天数\"/>\n\n      <!-- 灌溉 / 通风 / 灯光三列（美化布尔）-->\n      <el-table-column v-if=\"showDetail\" label=\"灌溉\">\n        <template slot-scope=\"scope\">\n          <span :style=\"{color: scope.row.irrigationStatus ? 'green' : 'gray'}\">\n            {{ scope.row.irrigationStatus ? '✅ 开启' : '❌ 关闭' }}\n          </span>\n        </template>\n      </el-table-column>\n\n      <el-table-column v-if=\"showDetail\" label=\"通风\">\n        <template slot-scope=\"scope\">\n          <span :style=\"{color: scope.row.ventilationStatus ? 'green' : 'gray'}\">\n            {{ scope.row.ventilationStatus ? '✅ 开启' : '❌ 关闭' }}\n          </span>\n        </template>\n      </el-table-column>\n\n      <el-table-column v-if=\"showDetail\" label=\"灯光\">\n        <template slot-scope=\"scope\">\n          <span :style=\"{color: scope.row.lightingStatus ? 'green' : 'gray'}\">\n            {{ scope.row.lightingStatus ? '✅ 开启' : '❌ 关闭' }}\n          </span>\n        </template>\n      </el-table-column>\n\n      <el-table-column v-if=\"showDetail\" prop=\"createTime\" label=\"创建时间\"/>\n\n      <!-- ▶▶ 操作列 ◀◀ -->\n      <el-table-column label=\"操作\" width=\"220\">\n        <template v-slot=\"scope\">\n          <el-button size=\"mini\" type=\"primary\"\n                     @click=\"viewDetail(scope.row)\">查看详情</el-button>\n          <el-button size=\"mini\" type=\"warning\"\n                     @click=\"handleEdit(scope.row)\">编辑信息</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'GreenhouseList',\n  data () {\n    return {\n      greenhouses: [],\n      showDetail: false\n    }\n  },\n  created () {\n    this.loadGreenhouses()\n  },\n  methods: {\n    /* 拉取列表 */\n    loadGreenhouses () {\n      this.$request.get('/api/greenhouse/getAll').then(res => {\n        this.greenhouses = res.data || []\n      })\n    },\n    /* 简略 / 详细视图切换 */\n    toggleView () {\n      this.showDetail = !this.showDetail\n    },\n    /* 查看详情（跳详情页） */\n    viewDetail (row) {\n      this.$router.push({ name: 'GreenhouseDetail', query: { id: row.greenhouseId } })\n    },\n    /* 新增（不传 id） */\n    handleAdd () {\n      this.$router.push({ name: 'GreenhouseForm' })\n    },\n    /* **编辑**（带 id 跳表单页） */\n    handleEdit (row) {\n      this.$router.push({ name: 'GreenhouseForm', query: { id: row.greenhouseId } })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.toolbar{\n  margin-bottom:10px;\n  display:flex;\n  justify-content:space-between;\n  align-items:center\n}\n</style>\n"],"mappings":";AAoEA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,eAAA;EACA;EACAC,OAAA;IACA;IACAD,gBAAA;MACA,KAAAE,QAAA,CAAAC,GAAA,2BAAAC,IAAA,CAAAC,GAAA;QACA,KAAAR,WAAA,GAAAQ,GAAA,CAAAT,IAAA;MACA;IACA;IACA;IACAU,WAAA;MACA,KAAAR,UAAA,SAAAA,UAAA;IACA;IACA;IACAS,WAAAC,GAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAf,IAAA;QAAAgB,KAAA;UAAAC,EAAA,EAAAJ,GAAA,CAAAK;QAAA;MAAA;IACA;IACA;IACAC,UAAA;MACA,KAAAL,OAAA,CAAAC,IAAA;QAAAf,IAAA;MAAA;IACA;IACA;IACAoB,WAAAP,GAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAf,IAAA;QAAAgB,KAAA;UAAAC,EAAA,EAAAJ,GAAA,CAAAK;QAAA;MAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}